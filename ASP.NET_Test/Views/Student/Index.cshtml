@using CaptchaMvc.HtmlHelpers
@model IEnumerable<NET_Test.Models.Student>

@{
    ViewBag.Title = "Students";
}

<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.StudentId)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.FullName)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.ContactNo)
        </th>
        <th>
           Department
        </th>
        <th>
           Profile Picture
        </th>
        <th></th>
    </tr>

    @foreach (var item in Model) {
        <tr>

            <td>
                @Html.DisplayFor(modelItem => item.StudentId)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.FullName)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.ContactNo)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Department.Tittle)
            </td>
            <td>
                @{
                    var base64 = Convert.ToBase64String(item.BinaryDataImage);
                    var imageSource = string.Format("data:image/gif;base64,{0}", base64);
                }
                <img src='@imageSource' style="max-height: 100px; width: 100px"/>
            </td>
            <td>
                @Html.ActionLink("Edit", "Edit", new {id = item.Id})
            </td>
        </tr>
    }

</table>




@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
}
